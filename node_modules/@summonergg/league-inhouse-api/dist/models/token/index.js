"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Token = void 0;
const tslib_1 = require("tslib");
const api_1 = require("../api");
const randomatic_1 = tslib_1.__importDefault(require("randomatic"));
const modules_1 = require("../../modules");
class Token extends api_1.API {
    constructor(opt) {
        super();
        this.opt = opt;
        if (opt === null || opt === void 0 ? void 0 : opt.msg) {
            this.msg = opt.msg;
            this.res = modules_1.translate(this.msg, "token");
        }
    }
    generateNew(id) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            var newId;
            do {
                newId = Math.floor(Math.random() * Math.floor(29));
            } while (this.profileIconId == id || id == newId);
            this.profileIconId = newId;
            this.key = randomatic_1.default("aA0", 8);
            this.save();
        });
    }
}
exports.Token = Token;
//# sourceMappingURL=index.js.map